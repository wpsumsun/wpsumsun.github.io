<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    

    <title>
      小黄书笔-Prototype | 我的博客 
    </title>

    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    
      <meta name="author" content="Hi">
    
    

    <meta name="description" content="给一个对象设置属性并不仅仅是添加一个新属性或者修改已有的属性值。现在我们完整地讲解一下这个过程：myObject.foo = “bar”;如果 myObject 对象中包含名为 foo 的普通数据访问属性，这条赋值语句只会修改已有的属性值。如果 foo 不是直接存在于 myObject 中， [[Prototype]] 链就会被遍历，类似 [[Get]] 操作。如果原型链上找不到 foo ， fo">
<meta name="keywords" content="note javascript 小黄书">
<meta property="og:type" content="article">
<meta property="og:title" content="小黄书笔-Prototype | 我的博客">
<meta property="og:url" content="http://yoursite.com/2018/03/11/小黄书笔-Prototype/index.html">
<meta property="og:site_name" content="我的博客">
<meta property="og:description" content="给一个对象设置属性并不仅仅是添加一个新属性或者修改已有的属性值。现在我们完整地讲解一下这个过程：myObject.foo = “bar”;如果 myObject 对象中包含名为 foo 的普通数据访问属性，这条赋值语句只会修改已有的属性值。如果 foo 不是直接存在于 myObject 中， [[Prototype]] 链就会被遍历，类似 [[Get]] 操作。如果原型链上找不到 foo ， fo">
<meta property="og:updated_time" content="2018-03-11T11:22:35.365Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="小黄书笔-Prototype | 我的博客">
<meta name="twitter:description" content="给一个对象设置属性并不仅仅是添加一个新属性或者修改已有的属性值。现在我们完整地讲解一下这个过程：myObject.foo = “bar”;如果 myObject 对象中包含名为 foo 的普通数据访问属性，这条赋值语句只会修改已有的属性值。如果 foo 不是直接存在于 myObject 中， [[Prototype]] 链就会被遍历，类似 [[Get]] 操作。如果原型链上找不到 foo ， fo">
    
    
    
      <link rel="icon" type="image/x-icon" href="/favicon.png">
    
    <link rel="stylesheet" href="/css/uno.css">
    <link rel="stylesheet" href="/css/highlight.css">
    <link rel="stylesheet" href="/css/archive.css">
    <link rel="stylesheet" href="/css/china-social-icon.css">

</head>
<body>

    <span class="mobile btn-mobile-menu">
        <i class="icon icon-list btn-mobile-menu__icon"></i>
        <i class="icon icon-x-circle btn-mobile-close__icon hidden"></i>
    </span>

    

<header class="panel-cover panel-cover--collapsed">


  <div class="panel-main">

  
    <div class="panel-main__inner panel-inverted">
    <div class="panel-main__content">

        

        <h1 class="panel-cover__title panel-title"><a href="/" title="link to homepage">我的博客</a></h1>
        <hr class="panel-cover__divider" />

        

        <div class="navigation-wrapper">

          <nav class="cover-navigation cover-navigation--primary">
            <ul class="navigation">

              
                
                <li class="navigation__item"><a href="/#blog" title="" class="blog-button">首页</a></li>
              
                
                <li class="navigation__item"><a href="/about" title="" class="">关于</a></li>
              
                
                <li class="navigation__item"><a href="/archive" title="" class="">归档</a></li>
              

            </ul>
          </nav>

          <!-- ----------------------------
To add a new social icon simply duplicate one of the list items from below
and change the class in the <i> tag to match the desired social network
and then add your link to the <a>. Here is a full list of social network
classes that you can use:

    icon-social-500px
    icon-social-behance
    icon-social-delicious
    icon-social-designer-news
    icon-social-deviant-art
    icon-social-digg
    icon-social-dribbble
    icon-social-facebook
    icon-social-flickr
    icon-social-forrst
    icon-social-foursquare
    icon-social-github
    icon-social-google-plus
    icon-social-hi5
    icon-social-instagram
    icon-social-lastfm
    icon-social-linkedin
    icon-social-medium
    icon-social-myspace
    icon-social-path
    icon-social-pinterest
    icon-social-rdio
    icon-social-reddit
    icon-social-skype
    icon-social-spotify
    icon-social-stack-overflow
    icon-social-steam
    icon-social-stumbleupon
    icon-social-treehouse
    icon-social-tumblr
    icon-social-twitter
    icon-social-vimeo
    icon-social-xbox
    icon-social-yelp
    icon-social-youtube
    icon-social-zerply
    icon-mail

-------------------------------->

<!-- add social info here -->



        </div>

      </div>

    </div>

    <div class="panel-cover--overlay"></div>
  </div>
</header>

    <div class="content-wrapper">
        <div class="content-wrapper__inner entry">
            

<article class="post-container post-container--single">

  <header class="post-header">
    
    <h1 class="post-title">小黄书笔-Prototype</h1>

    

    <div class="post-meta">
      <time datetime="2018-03-11" class="post-meta__date date">2018-03-11</time> 

      <span class="post-meta__tags tags">

          

          
             &#8226; 标签:
            <font class="tags">
              <a class="tags-link" href="/tags/note-javascript-小黄书/">note javascript 小黄书</a>
            </font>
          

      </span>
    </div>
    
    

  </header>

  <section id="post-content" class="article-content post">
    <p>给一个对象设置属性并不仅仅是添加一个新属性或者修改已有的属性值。<br>现在我们完整地讲解一下这个过程：<br>myObject.foo = “bar”;<br>如果 myObject 对象中包含名为 foo 的普通数据访问属性，这条赋值语句只会修改已有的属<br>性值。<br>如果 foo 不是直接存在于 myObject 中， [[Prototype]] 链就会被遍历，类似 [[Get]] 操作。<br>如果原型链上找不到 foo ， foo 就会被直接添加到 myObject 上。<br>然而，如果 foo 存在于原型链上层，赋值语句 myObject.foo = “bar” 的行为就会有些不同<br>（而且可能很出人意料）。稍后我们会进行介绍。<br>如果属性名 foo 既出现在 myObject 中也出现在 myObject 的 [[Prototype]] 链上层，那<br>么就会发生屏蔽。 myObject 中包含的 foo 属性会屏蔽原型链上层的所有 foo 属性，因为<br>myObject.foo 总是会选择原型链中最底层的 foo 属性。<br>屏蔽比我们想象中更加复杂。下面我们分析一下如果 foo 不直接存在于 myObject 中而是存<br>原型 ｜ 145<br>在于原型链上层时 myObject.foo = “bar” 会出现的三种情况。</p>
<ol>
<li>如果在 [[Prototype]] 链上层存在名为 foo 的普通数据访问属性（参见第 3 章）并且没<br>有被标记为只读（ writable:false ），那就会直接在 myObject 中添加一个名为 foo 的新<br>属性，它是屏蔽属性。</li>
<li>如果在 [[Prototype]] 链上层存在 foo ，但是它被标记为只读（ writable:false ），那么<br>无法修改已有属性或者在 myObject 上创建屏蔽属性。如果运行在严格模式下，代码会<br>抛出一个错误。否则，这条赋值语句会被忽略。总之，不会发生屏蔽。</li>
<li>如果在 [[Prototype]] 链上层存在 foo 并且它是一个 setter（参见第 3 章），那就一定会<br>调用这个 setter。 foo 不会被添加到（或者说屏蔽于） myObject ，也不会重新定义 foo 这<br>个 setter。<br>大多数开发者都认为如果向 [[Prototype]] 链上层已经存在的属性（ [[Put]] ）赋值，就一<br>定会触发屏蔽，但是如你所见，三种情况中只有一种（第一种）是这样的。<br>如果你希望在第二种和第三种情况下也屏蔽 foo ，那就不能使用 = 操作符来赋值，而是使<br>用 Object.defineProperty(..) （参见第 3 章）来向 myObject 添加 foo 。</li>
</ol>
<p>两种把 Bar.prototype 关联到 Foo.prototype 的方法：<br>···<br>// ES6 之前需要抛弃默认的 Bar.prototype<br>Bar.ptototype = Object.create( Foo.prototype );<br>// ES6 开始可以直接修改现有的 Bar.prototype<br>Object.setPrototypeOf( Bar.prototype, Foo.prototype );<br>···</p>
<h4 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h4><p>如果要访问对象中并不存在的一个属性， [[Get]] 操作（参见第 3 章）就会查找对象内部<br>[[Prototype]] 关联的对象。这个关联关系实际上定义了一条“原型链”（有点像嵌套的作<br>原型 ｜ 163<br>用域链），在查找属性时会对它进行遍历。<br>所有普通对象都有内置的 Object.prototype ，指向原型链的顶端（比如说全局作用域），如<br>果在原型链中找不到指定的属性就会停止。 toString() 、 valueOf() 和其他一些通用的功能<br>都存在于 Object.prototype 对象上，因此语言中所有的对象都可以使用它们。<br>关联两个对象最常用的方法是使用 new 关键词进行函数调用，在调用的 4 个步骤（第 2<br>章）中会创建一个关联其他对象的新对象。<br>使用 new 调用函数时会把新对象的 .prototype 属性关联到“其他对象”。带 new 的函数调用<br>通常被称为“构造函数调用”，尽管它们实际上和传统面向类语言中的类构造函数不一样。<br>虽然这些 JavaScript 机制和传统面向类语言中的“类初始化”和“类继承”很相似，但<br>是 JavaScript 中的机制有一个核心区别，那就是不会进行复制，对象之间是通过内部的<br>[[Prototype]] 链关联的。<br>出于各种原因，以“继承”结尾的术语（包括“原型继承”）和其他面向对象的术语都无<br>法帮助你理解 JavaScript 的真实机制（不仅仅是限制我们的思维模式）。<br>相比之下，“委托”是一个更合适的术语，因为对象之间的关系不是复制而是委托。</p>

  </section>

  <section class="post-comments">

    <!-- 将评论系统（例如Disqus、多说、友言、畅言等）提供的代码片段粘贴在这里 -->
    
</section>


</article>


            <footer class="footer">

    <span class="footer__copyright">&copy; 2014-2015. | 由<a href="https://hexo.io/">Hexo</a>强力驱动 | 主题<a href="https://github.com/someus/huno">Huno</a></span>
    
</footer>
        </div>
    </div>

    <!-- js files -->
    <script src="/js/jquery.min.js"></script>
    <script src="/js/main.js"></script>
    <script src="/js/scale.fix.js"></script>
    

    

    <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript"> 
        $(document).ready(function(){
            MathJax.Hub.Config({ 
                tex2jax: {inlineMath: [['[latex]','[/latex]'], ['\\(','\\)']]} 
            });
        });
    </script>


    

    <script src="/js/awesome-toc.min.js"></script>
    <script>
        $(document).ready(function(){
            $.awesome_toc({
                overlay: true,
                contentId: "post-content",
            });
        });
    </script>


    
    
    <!--kill ie6 -->
<!--[if IE 6]>
  <script src="//letskillie6.googlecode.com/svn/trunk/2/zh_CN.js"></script>
<![endif]-->

</body>
</html>
